### Техническое задание (ТЗ) на разработку бота для сбора аналитики в Telegram

#### Цель:
Создать Telegram-бота, который будет собирать аналитику о подписчиках канала и передавать ее в Google Таблицы. Бот должен обеспечивать проверку авторизации пользователя и позволять администраторам управлять сбором данных.

#### Основные задачи:
1. Разработка бота для Telegram, который запускается по команде `/start`.
2. Проверка авторизации пользователей, чтобы ограничить доступ к боту.
3. Реализация функционала сбора аналитики о подписчиках канала.
4. Передача собранных данных в Google Таблицы.
5. Реализация админ-панели для управления сбором аналитики (опционально).

#### Требования к функционалу бота:
- **Команда запуска**:
  - Бот должен запускаться командой `/start`.
  - Бот должен проверять авторизацию пользователя при запуске.

- **Проверка авторизации**:
  - Бот должен иметь список авторизованных пользователей (администраторов).
  - Если пользователь не авторизован, бот должен отправлять сообщение "К сожалению, у вас нет прав доступа".
  - Если пользователь авторизован, бот должен показывать окно с предложением "начать сбор аналитики".

- **Сбор аналитики**:
  - После нажатия кнопки "начать сбор аналитики", бот должен фиксировать данные о каждом подписчике.
  - Данные для каждого канала собираются в отдельную Google Таблицу.
  - Перечень собираемых данных должен включать:
    - ID пользователя;
    - Имя пользователя;
    - Имя (если доступно);
    - Аватар (URL);
    - Дата подписки;
    - Дата отписки (если доступна);
    - UTM-метка (если доступна);
    - Пол (если доступен);
    - Страна (если доступна);
    - Описание (если доступно);
    - Активности (просмотры, репосты, реакции).

- **Передача данных в Google Таблицу**:
  - Бот должен передавать собранные данные в Google Таблицу.
  - Каждая таблица должна быть связана с определенным Telegram-каналом.
  - Бот должен иметь доступ к Google API для отправки данных в таблицу.
  - Бот должен корректно работать с параллельными запросами и избегать конфликтов данных.

#### Требования к безопасности:
- Бот должен ограничивать доступ только для авторизованных пользователей.
- Все операции, связанные с передачей данных, должны быть защищены и соответствовать политике конфиденциальности.

#### Дополнительные требования:
- Бот должен быть устойчивым к ошибкам и исключениям, чтобы не прерывать работу в случае сбоя.
- Бот должен иметь возможность расширения для добавления новых функций в будущем.
- Документация по использованию бота должна быть подготовлена и доступна администраторам.